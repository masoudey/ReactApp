{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./server/accounts.js","webpack:///./server/api.js","webpack:///./server/index.js","webpack:///./src/Components/ActivePage.js","webpack:///./src/Components/List.js","webpack:///./src/Components/PrivateRoute.js","webpack:///./src/Components/PublicRoute.js","webpack:///./src/Components/authVerify.js","webpack:///./src/Components/footer.js","webpack:///./src/Components/header.js","webpack:///./src/Components/matchPropTypes.js","webpack:///./src/Components/postthumbnail.js","webpack:///./src/Components/workthumbnail.js","webpack:///./src/Routes.js","webpack:///./src/RoutesConfig.js","webpack:///./src/actions/authHeader.js","webpack:///./src/actions/index.js","webpack:///./src/actions/userActions.js","webpack:///./src/app.js","webpack:///./src/constants/index.js","webpack:///./src/containers/AboutPage.js","webpack:///./src/containers/AddPost.js","webpack:///./src/containers/BlogPage.js","webpack:///./src/containers/DevTools.js","webpack:///./src/containers/HomePage.js","webpack:///./src/containers/Login.js","webpack:///./src/containers/NotFound.js","webpack:///./src/containers/SinglePost.js","webpack:///./src/containers/SingleWork.js","webpack:///./src/containers/WorksPage.js","webpack:///./src/middleware/api.js","webpack:///./src/reducers/index.js","webpack:///./src/reducers/postReduser.js","webpack:///./src/reducers/userReducer.js","webpack:///./src/store.js","webpack:///external \"axios\"","webpack:///external \"babel-polyfill\"","webpack:///external \"body-parser\"","webpack:///external \"bourne\"","webpack:///external \"cors\"","webpack:///external \"crypto\"","webpack:///external \"express\"","webpack:///external \"express-jwt\"","webpack:///external \"express-session\"","webpack:///external \"humps\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"lodash/merge\"","webpack:///external \"normalizr\"","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-id-swiper\"","webpack:///external \"react-loadable\"","webpack:///external \"react-loadable/webpack\"","webpack:///external \"react-redux\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-spinners\"","webpack:///external \"redux\"","webpack:///external \"redux-devtools\"","webpack:///external \"redux-devtools-dock-monitor\"","webpack:///external \"redux-devtools-log-monitor\"","webpack:///external \"redux-logger\"","webpack:///external \"redux-thunk\""],"names":["router","express","Router","db","Bourne","hash","password","crypto","createHash","update","digest","corsOption","origin","methods","credentials","exposedHeaders","createToken","auth","console","log","jwt","sign","id","expiresIn","generateToken","req","res","next","token","sendToken","setHeader","status","send","JSON","stringify","user","authenticate","secret","requestProperty","getToken","headers","getOne","toObject","json","use","bodyParser","urlencoded","post","body","username","findOne","err","data","redirect","options","find","length","insert","session","userId","get","users","comments","route","formatPosts","da","parseInt","response","comms","push","param","dbQuery","params","substring","put","$promise","$resolved","delete","app","static","api","store","verify","decoded","dispatch","name","match","routes","regular","path","exact","originalUrl","strict","component","fetchData","context","modules","html","url","moduleName","finalState","getState","bundles","stats","styles","filter","bundle","file","endsWith","scripts","renderFullPage","preloadedState","map","style","join","replace","script","Loadable","preloadAll","then","listen","process","env","PORT","ActivePage","pathName","props","location","pathname","activeClass","children","Component","List","fetching","items","renderItem","loadingText","isEmpty","Object","keys","defaultProps","PrivateRoute","rest","tokenVerification","parse","localStorage","getItem","mapStateToProps","state","entities","logedinUser","reducers","connectedAuth","Footer","Header","collapsed","exposed","setState","navClass","toggleBtnClass","navBtnClass","toggleCollapse","bind","logout","navExpose","connectedLoginPage","propTypes","func","isRequired","propName","componentName","propValue","Error","PostThumb","img","title","desc","workThumb","work","Routes","regularRoutes","i","privateRoutes","private","publicRoutes","public","window","scrollTo","Loading","Home","loader","loading","webpack","delay","Works","render","loaded","WorksPage","default","preload","Login","BlogPage","SinglePost","SingleWork","About","NotFound","AddPost","authHeader","fetchUser","CALL_API","types","userConstants","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","endpoint","schema","Schemas","USER","method","bodyReq","loginSuccess","type","result","logOut","removeItem","LOGOUT","loginUser","fetchPosts","postConstants","POSTS_REQUEST","POSTS_SUCCESS","POSTS_FAILURE","POST_ARRAY","loadPosts","posts","fetchPostById","POST_REQUEST","POST_SUCCESS","POST_FAILURE","POST","loadPostById","loginRequest","payload","loginFailure","registerRequest","REGISTER_REQUEST","registerFailure","REGISTER_FAILURE","registerSuccess","REGISTER_SUCCESS","setUserOptions","SET_USER_OPTIONS","login","reqOptions","axios","setItem","catch","PathName","App","activePage","page","handleUserChange","connectedApp","ADD_POST","UPDATE_POST","DELETE_POST","RESET_ERROR_MESSAGE","width","height","position","top","marginTop","loadData","scrollanim","addEventListener","handleScroll","removeEventListener","event","scrollY","values","scrolling","renderPost","connectedBlog","HomePage","pagination","el","clickable","navigation","nextEl","prevEl","spaceBetween","loop","submitted","handleChange","handleSubmit","e","target","value","preventDefault","fetched","postId","postid","undefined","date","content","ownProps","postById","postResult","connectedSinglePost","workId","workid","works","API_ROOT","callApi","fullUrl","indexOf","proxy","host","port","Promise","reject","camelizedJson","assign","userSchema","Entity","idAttribute","toLowerCase","commentSchema","commenter","postSchema","author","USER_ARRAY","callAPI","action","Array","isArray","every","actionWith","finalAction","requestType","successType","failureType","error","message","messages","rootReducer","initialState","cotagory","newPosts","postToUpdate","findIndex","middleware","thunk","configureStore","DevTools","instrument"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./server/index.js\");\n","import express from 'express'\r\nimport\tbodyParser from\t'body-parser'\r\nimport\tsession from 'express-session'\r\nimport\tcors from\t'cors'\r\nimport\texpressJwt from 'express-jwt'\r\nimport\tjwt\tfrom\t'jsonwebtoken'\r\nimport\tBourne from\t'bourne'\r\nimport\tcrypto from\t'crypto'\r\n\r\nconst router = express.Router();\r\nconst\tdb = new Bourne('users.json');\r\n\r\nfunction hash (password) {\r\n\treturn crypto.createHash('sha256').update(password).digest('hex');\r\n}\r\nconst corsOption = {\r\n\torigin: true,\r\n\tmethods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\r\n\tcredentials: true,\r\n\texposedHeaders: ['x-auth-token']\r\n  };\r\n  const createToken = function(auth) {\r\n\t  console.log(auth);\r\n\treturn jwt.sign({\r\n\t  id: auth.id\r\n\t}, 'my-secret',\r\n\t{\r\n\t  expiresIn: 2 * 60\r\n\t});\r\n  };\r\n  \r\n  const generateToken = function (req, res, next) {\r\n\t  console.log(\"generatetoken\");\r\n\treq.token = createToken(req.auth);\r\n\treturn next();\r\n  };\r\n  \r\n  const sendToken = function (req, res, next) {\r\n\tconsole.log(\"sendtoken\");\r\n\tres.setHeader('x-auth-token', req.token);\r\n\treturn res.status(200).send(JSON.stringify(req.user));\r\n  };\r\n//token handling middleware\r\nconst authenticate = expressJwt({\r\n\tsecret: 'my-secret',\r\n\trequestProperty: 'auth',\r\n\tgetToken: function(req) {\r\n\t  if (req.headers['x-auth-token']) {\r\n\t\treturn req.headers['x-auth-token'];\r\n\t  }\r\n\t  return null;\r\n\t}\r\n\t});\r\n\t\r\n  const getOne = function (req, res) {\r\n\t\tvar user = req.user.toObject();\r\n  \r\n\t\tres.json(user);\r\n  };\r\n\r\nrouter\r\n\t.use(bodyParser.urlencoded())\r\n\t.use(bodyParser.json())\r\n\t.use(cors(corsOption))\r\n\t.use(session({secret: 'asfdgdgy657gkutyutkyu6v6iesldkvfjso8ers'}))\r\n\t.post('/login', function(req, res, next) {\r\n\t\tconsole.log(req.body.password);\r\n\t\tvar user = {\r\n\t\t\tusername: req.body.username,\r\n\t\t\tpassword: hash(req.body.password)\r\n\t\t};\r\n\t\t\r\n\t\tdb.findOne(user, function(err, data) {\r\n\t\t\tif(data){\r\n\t\t\t\t// req.session.userId = data.id;\r\n\t\t\t\treq.user = data;\r\n\t\t\t\treq.auth = {\r\n\t\t\t\t\tid: data.id\r\n\t\t\t\t  };\r\n\t\t\t\treturn next();\r\n\t\t\t} else {\r\n\t\t\t\tres.redirect('/login');\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t},generateToken, sendToken)\r\n\t.post('/register', function(req, res) {\r\n\t\tvar user = {\r\n\t\t\tusername: req.body.username,\r\n\t\t\tpassword: hash(req.body.password),\r\n\t\t\toptions: {}\r\n\t\t};\r\n\t\tdb.find({username: user.username}, function(err, data) {\r\n\t\t\tif(!data.length){\r\n\t\t\t\tdb.insert(user, function(err, data) {\r\n\t\t\t\t\treq.session.userId = data.id;\r\n\t\t\t\t\tres.redirect('/');\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tres.redirect('/login');\r\n\t\t\t}\r\n\t\t});\r\n\t})\r\n\t.get('/logout', function(req, res) {\r\n\t\treq.session.userId = null;\r\n\t\treq.user = null;\r\n\t\tres.redirect('/');\r\n\t})\r\n\t// .get('/login', function(req, res) {\r\n\t// \tif (!req.user) {\r\n\t\t\t\r\n\t// \t\tconsole.log(\"user doesnt exist(login)\");\r\n\t// \t\tres.sendfile('./public/index.html');\r\n\t\t\t\r\n  //   \t} else {\r\n\t// \t\tconsole.log(\"user exist login\");\r\n\t// \t\t// res.send({sess: req.user});\r\n\t\t\t\r\n\t// \t\tres.redirect('/');\r\n  //   \t}\r\n\t// })\r\n\t.get('/authen',authenticate , function(req, res, next) {\r\n\t\tdb.findOne({id: req.auth.id}, function(err, data) {\r\n\t\t\tif(!err) {\r\n\t\t\t\treq.user = data;\r\n\t\t\t\treq.auth = {\r\n\t\t\t\t\tid: data.id\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(\"auth\")\r\n\t\t\t\tnext();\r\n\t\t\t} else {\r\n\t\t\t\tnext(err);\r\n\t\t\t}\r\n\t\t});\r\n\t},getOne)\r\n\t.use(function(req, res, next){\r\n\t\tif (req.auth) {\r\n\t\t\tdb.findOne({id: req.auth.id}, function(err, data) {\r\n\t\t\t\treq.user = data;\r\n\t\t\t\t\r\n\t\t\t\t// res.send({sess: req.session});\r\n\t\t\t\tconsole.log(\"run\")\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t\tnext();\r\n\t});\r\n\r\nexport default router;","import express from 'express';\r\nimport Bourne from 'bourne';\r\nimport bodyParser from 'body-parser';\r\n\r\nconst db = new Bourne('data.json');\r\nconst users = new Bourne('users.json');\r\nconst comments = new Bourne('comments.json');\r\nconst router = express.Router();\r\n\r\nrouter\r\n\t.use(bodyParser.json())\r\n\t.route('/post')\r\n\t\t.get(function(req, res){\r\n\t\t\tlet formatPosts = [];\r\n\t\t\t// console.log(\"get request\");\r\n\t\t\tdb.find({}, function (err, data){\r\n\t\t\t\t// console.log(\"data\",data);\r\n\t\t\t\t\r\n\t\t\t\tfor (let da of data) {\r\n\t\t\t\t\tusers.findOne({ 'id': parseInt(da.userId, 10)}, (err, response) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tda[\"author\"] = response;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// for (let i=0; i < da.comments.length ;i++ ){\r\n\t\t\t\t\tcomments.find({ 'postId': parseInt(da.id)}, (err, comms) => {\r\n\t\t\t\t\t\t\tda['comments'] = comms;\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\tformatPosts.push(da);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tres.json(formatPosts);\r\n\t\t})\r\n\t\t.post(function(req, res){\r\n\t\t\tvar post = req.body;\r\n\t\t\t// console.log(post);\r\n\t\t\tpost.userId = req.user.id;\r\n\r\n\t\t\tdb.insert(post, function(err, data){\r\n\t\t\t\tres.json(data);\r\n\t\t\t});\r\n\t\t});\r\nrouter\r\n\t.param('id', function(req, res, next){\r\n\t\treq.dbQuery = {id: parseInt(req.params.id, 10)}\r\n\t\tconsole.log(req.dbQuery);\r\n\t\tnext();\r\n\t})\r\n\t.route('/post/:id')\r\n\t\t.get(function (req, res){\r\n\t\t\tconsole.log(\"/post/:id\",req.params.id.substring(1) );\r\n\r\n\t\t\tdb.findOne({ 'id': parseInt(req.params.id, 10)}, function (err, data){\r\n\t\t\t\tres.json(data);\r\n\t\t\t});\r\n\t\t})\r\n\t\t.put(function (req, res){\r\n\t\t\tvar post = req.body;\r\n\t\t\tdelete post.$promise;\r\n\t\t\tdelete post.$resolved;\r\n\t\t\tdb.update(req.dbQuery, post, function(err, data){\r\n\t\t\t\tres.json(data[0]);\r\n\t\t\t});\r\n\t\t})\r\n\t\t.delete(function (req, res){\r\n\t\t\tdb.delete(req.dbQuery, function(){\r\n\t\t\t\tres.json(null);\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\nexport default router;","import 'babel-polyfill';\r\nimport express from 'express'\r\nimport api from './api'\r\nimport users from './accounts'\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nimport React from \"react\"\r\nimport { renderToString } from \"react-dom/server\"\r\nimport { Provider } from \"react-redux\"\r\nimport { StaticRouter, matchPath } from \"react-router-dom\"\r\nimport Loadable from \"react-loadable\";\r\nimport { getBundles } from \"react-loadable/webpack\";\r\nimport stats  from \"../public/react-loadable.json\";\r\nimport { configureStore } from \"../src/store\"\r\nimport { App } from \"../src/app\"\r\nimport { loginSuccess, logOut, loadPosts } from \"../src/actions\";\r\nimport routes from \"../src/RoutesConfig\";\r\n\r\n\r\nconst app = express();\r\n\r\n\r\napp.use(express.static('public'))\r\n\t.use(users)\r\n\t.use('/api', api)\r\n    .get('*', async function (req, res){\r\n\t\t\r\n\t\tlet user = req.user ?  req.user : {}\r\n\t\tconst store = configureStore()\r\n\t\tif (req.token) {\r\n\t\t\tconst token = req.token;\r\n\t\t\tjwt.verify(token, 'my-secret', async function(err, decoded) {\r\n                if (decoded) {\r\n                    await store.dispatch(loginSuccess(user));\r\n                    res.setHeader('x-auth-token', req.token);\r\n                }else {\r\n                    if (err.name === \"TokenExpiredError\") {\r\n\t\t\t\t\t\tstore.dispatch(logOut());\r\n\t\t\t\t\t\treq.token = null;\r\n                        console.log(\"TokenExpiredError\");\r\n                    }\r\n                }\r\n              });\r\n\t\t\t\r\n\t\t}\r\n\t\tlet match = null;\r\n\t\tlet {path, component } = await routes.regular.find(\r\n\t\t\t({path, exact= false}) => {\r\n\t\t\tmatch = matchPath(req.originalUrl, {\r\n\t\t\t\tpath,\r\n\t\t\t\texact,\r\n\t\t\t\tstrict: false\r\n\t\t\t  })\r\n\t\t\treturn match;\r\n\t\t}) || {};\r\n\t\tconsole.log(component);\r\n\t\tconsole.log(\"matchhhhhhhhhhhhhhhhhhhhh\",match);\r\n\t\tconst params = match.params;\r\n\t\tif (component.fetchData)\r\n\t\t\tawait store.dispatch(component.fetchData({...params}))\r\n\r\n\t\tlet context = req.user ? req.user : {};\r\n\t\tconsole.log(\"context\", context);\r\n\r\n\t\tlet modules = [];\r\n\t\tconst html = renderToString(\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<StaticRouter location={req.url} context={context} >\r\n\t\t\t\t\t<Loadable.Capture report= {moduleName => modules.push(moduleName)} >\r\n\t\t\t  \t\t\t<App />\r\n\t\t\t\t\t</Loadable.Capture>\r\n\t\t\t\t</StaticRouter>\r\n\t\t\t</Provider>\r\n\t\t)\r\n\t\t\r\n\t\tconst finalState = store.getState()\r\n\t\tconsole.log(modules);\r\n\t\tlet bundles = getBundles(stats, modules);\r\n\t\tconsole.log(bundles);\r\n\t\tlet styles = bundles.filter(bundle => bundle.file.endsWith('.css'));\r\n\t\tlet scripts = bundles.filter(bundle => bundle.file.endsWith('.js'));\r\n\r\n\r\n    \tconst renderFullPage = (html, preloadedState) => {\r\n\t\t\treturn `\r\n\t\t\t\t<!DOCTYPE html>\r\n\t\t\t\t<html lang=\"en\">\r\n\t\t\t\t<head>\r\n\t\t\t\t\t<meta charset=\"UTF-8\">\r\n\t\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t\t\t\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\r\n\t\t\t\t\t<title>Universal App</title>\r\n\t\t\t\t\t${styles.map(style => {\r\n\t\t\t\t\t\treturn `<link href=\"/${style.file}\" rel=\"stylesheet\"/>`;\r\n\t\t\t\t\t  }).join('\\n')}\r\n\t\t\t\t</head>\r\n\t\t\t\t<body>\r\n\t\t\t\t\t<div id=\"root\">${html}</div>\r\n\t\t\t\t\t<script>\r\n          \t\t\t\twindow.__PRELOADED_STATE__ = ${JSON.stringify(preloadedState).replace(/</g, '\\\\x3c')}\r\n\t\t\t\t\t   </script>\r\n\t\t\t\t\t   ${scripts.map(script => {\r\n\t\t\t\t\t\treturn `<script src=\"/${script.file}\"></script>`\r\n\t\t\t\t\t  }).join('\\n')}\r\n\t\t\t\t\t  <script src=\"/bundle.js\" defer></script>\r\n\t\t\t\t</body>\r\n\t\t\t\t</html>\r\n\t\t\t`\r\n\t\t}\r\n\r\n\t\tres.send(renderFullPage(html,finalState));\r\n    })\r\n\tLoadable.preloadAll().then(() => {\r\n\t\tapp.listen(process.env.PORT || 4000);\r\n\t})\r\n\t\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass ActivePage extends Component {\r\n    render() {\r\n        const pathName = this.props.location.pathname;\r\n        const activeClass = pathName.substring(1);\r\n        // console.log(this.props.location);\r\n        return (\r\n            <div class={`app-wrapper ${activeClass}`}>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(ActivePage);\r\n","import React, { Component } from \"react\";\r\nimport { GridLoader } from \"react-spinners\";\r\n\r\nclass List extends Component {\r\n    \r\n    static defaultProps = {\r\n        fetching: true,\r\n        loadingText: 'Loading.....'\r\n    }\r\n\r\n    render() {\r\n        const { fetching, items, renderItem, loadingText } = this.props;\r\n        \r\n        const isEmpty = Object.keys(items).length === 0 ;\r\n        console.log(items, isEmpty);\r\n        if (isEmpty && fetching) {\r\n            return <GridLoader color={'#123abc'} loading={fetching} />\r\n        }\r\n\r\n        return (\r\n            <React.Fragment>\r\n                {items.map(renderItem)}\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default List;","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport matchPropTypes from \"./matchPropTypes\";\r\n\r\nconst PrivateRoute = ({component: Component, user, ...rest}) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            user\r\n                ? <Component user={user} {...props} />\r\n                : <Redirect to={{pathname: \"/login\"}} />\r\n        }\r\n    />\r\n    )\r\n\r\n// PrivateRoute.propTypes = matchPropTypes;\r\n\r\nexport default PrivateRoute;","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport matchPropTypes from \"./matchPropTypes\";\r\n\r\nconst PrivateRoute = ({component: Component, user, ...rest}) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            user\r\n                ? <Redirect to={{pathname: \"/\"}} />\r\n                : <Component user={user} {...props} />\r\n        }\r\n    />\r\n)\r\n\r\n// PrivateRoute.propTypes = matchPropTypes;\r\n\r\nexport default PrivateRoute;","import { connect } from \"react-redux\";\r\nimport { loginSuccess, logout } from \"../actions/userActions\";\r\n\r\nconst tokenVerification = () => {\r\n    const headers = JSON.parse(localStorage.getItem('headers'));\r\n        const { dispatch } = this.props;\r\n        if (headers && headers['x-auth-token']) {\r\n            const token = headers['x-auth-token'];\r\n            console.log(\"headers exist\", token);\r\n            jwt.verify(token, 'my-secret', function(err, decoded) {\r\n                if (decoded) {\r\n                    const user = JSON.parse(localStorage.getItem('user'));\r\n                    dispatch(loginSuccess(user));\r\n                    console.log(decoded);\r\n                }else {\r\n                    console.log(\"not decoded\", err)\r\n                    if (err.name === \"TokenExpiredError\") {\r\n                        dispatch(logout());\r\n                        console.log(\"TokenExpiredError\");\r\n                    }\r\n                }\r\n              });\r\n        }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    const {entities: {users}, reducers: {logedinUser} } = state;\r\n    const user = users[logedinUser.data];\r\n    return {\r\n        user,\r\n    }\r\n}\r\nconst connectedAuth = connect(mapStateToProps)(tokenVerification);\r\nexport {connectedAuth as tokenVerification};","import React, { Component } from \"react\";\r\n\r\nclass Footer extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <footer class=\"ftr\" id=\"footer\">\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-6 col-md-4 from-twitter\">\r\n                            <h3>From The Blog</h3>\r\n                            <div class=\"show-tweet\"></div>\r\n                        </div>\r\n                        <div class=\"col-sm-6 col-md-4 testimonials\">\r\n                            <h3>Testimonials</h3>\r\n                            <p> ghjghjghjgj. </p>\r\n                            <div class=\"test-author\">\r\n                                <img src=\"\" alt=\"\" />\r\n                                <p><span>Masoud</span> Inc.</p>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class=\"col-sm-6 col-md-4 contact-us\">\r\n                            <h3>Contact Us</h3>\r\n                            <form action=\"\" method=\"post\">\r\n                                <input type=\"text\" name=\"name\" class=\"name\" placeholder=\"Name\" />\r\n                                <input type=\"text\" name=\"email\" class=\"email\" placeholder=\"Email\" />\r\n                                <textarea name=\"message\" placeholder=\"Message\"></textarea>\r\n                                <button type=\"submit\">Submit</button>\r\n                            </form>\r\n                        </div>\r\n                    </div> \r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12\">\r\n                            <div class=\"social-links\">\r\n                                <a class=\"facebook\"  href=\"#\"><article><span class=\"icon-facebook\"></span></article></a>\r\n                                <a class=\"twitter\"  href=\"#\"><article><span class=\"icon-twitter\"></span></article></a>\r\n                                <a class=\"tumblr\"  href=\"#\"><article><span class=\"icon-tumblr\"></span></article></a>\r\n                                <a class=\"pinterest\"  href=\"#\"><article><span class=\"icon-pinterest\"></span></article></a>\r\n                                <a class=\"dribbble\"  href=\"#\"><article><span class=\"icon-dribbble\"></span></article></a>\r\n                                <a class=\"googleplus\"  href=\"#\"><article><span class=\"icon-googleplus\"></span></article></a>\r\n                                <a class=\"skype\"  href=\"#\"><article><span class=\"icon-skype\"></span></article></a>\r\n                                <a class=\"youtube\"  href=\"#\"><article><span class=\"icon-youtube\"></span></article></a>\r\n                                <a class=\"git\"  href=\"#\"><article><span class=\"icon-github\"></span></article></a>\r\n                                <a class=\"linkedin\"  href=\"#\"><article><span class=\"icon-linkedin\"></span></article></a>\r\n                                <a class=\"email\"  href=\"#\"><article><span class=\"icon-mail2\"></span></article></a>\r\n                            </div>\r\n                        </div>\r\n                    </div> \r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12 copyright\">\r\n                            <p>Copyright &copy; 2018 -   by <a href=\"#\" target=\"_blank\">Masoud Eyvatvandy</a></p>\r\n                        </div>\r\n                    </div> \r\n                </div> \r\n                <div class=\"bi\" id=\"tag\"></div>\r\n            </footer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer;","import React, { Component } from \"react\";\r\n// import { Navbar, NavbarBrand, NavbarNav, NavbarToggler, NavItem, Button } from \"mdbreact\";\r\nimport { NavLink, Link, withRouter } from 'react-router-dom';\r\nimport { logout } from \"../actions/userActions\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nclass Header extends Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            collapsed: true,\r\n            exposed: false,\r\n        }\r\n\r\n       \r\n    }\r\n\r\n\r\n\r\n    toggleCollapse() {\r\n        const collapsed = !this.state.collapsed;\r\n        this.setState({collapsed: collapsed,exposed: true})\r\n        \r\n    }\r\n    navExpose() {\r\n        const exposed = !this.state.exposed;\r\n        this.setState({exposed: exposed})\r\n    }\r\n    \r\n    logout() {\r\n        // this.props.changeUserState(null);\r\n        const { dispatch } = this.props;\r\n        console.log(this.props);\r\n        dispatch(logout());\r\n    }\r\n    \r\n    render() {\r\n        const { collapsed, exposed } = this.state;\r\n        const navClass = collapsed ? \"show\" : '';\r\n        const toggleBtnClass = collapsed ? '' : 'collapsed';\r\n        const navBtnClass = exposed || !collapsed ? 'nav-exposed' : '';\r\n        const user = this.props.user;\r\n        \r\n        return (\r\n            \r\n            <header>\r\n                <nav class=\"navbar dark navbar-expand-md scrolling fixed-top\"  >\r\n                    <a class=\"navbar-brand\" href=\"/\">\r\n                        <img src='' alt=\"\" height=\"20\" />  ReactApp\r\n                    </a>\r\n                    <button class={`navbar-toggler ${toggleBtnClass}`} onClick={this.toggleCollapse.bind(this)} data-toggle=\"collapse\" data-target=\"#reactNavbar\">\r\n                        <span class=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div class={`collapse navbar-collapse  ${navClass}  ${navBtnClass}` } id=\"reactNavbar\">\r\n                        \r\n                        <ul  class=\"navbar-nav mr-3 ml-auto\" >\r\n                                \r\n                                <NavLink exact activeClassName=\"active\" class=\"nav-link\" to=\"/\">Home</NavLink>\r\n                           \r\n                          \r\n                                <NavLink activeClassName=\"active\" class=\"nav-link\" to=\"/works\">Works</NavLink>\r\n                                <NavLink \r\n                                    activeClassName=\"active\" \r\n                                    // isActive={this.setActivePage.bind(this)} \r\n                                    class=\"nav-link\" \r\n                                    to=\"/blog\">\r\n                                    Blog\r\n                                </NavLink>\r\n                                \r\n                                <NavLink activeClassName=\"active\" class=\"nav-link\" to=\"/about\">About</NavLink>\r\n                                <li class=\"dropdown nav-item\"  >\r\n                                <a class=\"dropdown-toggle nav-link\" >\r\n                                    <span class=\"icon-user\"></span> \r\n                                    {user && ` ${user.username}`}\r\n                                </a>\r\n                                <div class=\"dropdown-menu \" aria-labelledby=\"navbarDropdownMenuLink\" >\r\n                                    {!user && <Link class=\"dropdown-item\" to=\"/login\">LogIn</Link>}\r\n                                    {user && <Link class=\"dropdown-item\" to=\"/addpost\">Add Post</Link>}\r\n                                    {user && <a class=\"dropdown-item\" onClick={this.logout.bind(this)} href=\"#\">Logout</a>}\r\n                                </div>\r\n                                </li>\r\n                        </ul>\r\n                        <div class={`nav-button `} onClick={this.navExpose.bind(this)}>\r\n                            <div class=\"hamburger\">\r\n                                <div class=\"line\"></div>\r\n                                <div class=\"line\"></div>\r\n                                <div class=\"line\"></div>\r\n                            </div>\r\n                            <div id=\"menu-click-area\"></div>\r\n                        </div>\r\n                    </div>\r\n                </nav>  \r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const { entities: {users}, reducers: {logedinUser} } = state;\r\n    const user = users[logedinUser.data];\r\n    console.log(user)\r\n    return{\r\n        user,\r\n    }\r\n}\r\n\r\nconst connectedLoginPage = withRouter(connect(mapStateToProps)(Header));\r\nexport { connectedLoginPage as Header };","import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\n\r\nexport default {\r\n    component: propTypes.func.isRequired,\r\n    user: (props, propName, componentName) => {\r\n        const propValue = props[propName];\r\n\r\n        if (propValue !== null) {\r\n            return new Error(\r\n                'prop on component has invalid value'\r\n            )\r\n        }\r\n    }\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst PostThumb = (props) => {\r\n    const post = props.post;\r\n    return (\r\n        \r\n            <li class=\"shown\" >\r\n                <div class=\" grid-post\">\r\n                    <figure class=\"effect-phoebe phoebe\">\r\n                        <img src={`/${post.img}`} alt=\"img03\" />\r\n                        <figcaption class=\"phoebe\">\r\n                            <h2>{post.title}</h2>\r\n                            <p class=\"desc\">{post.desc}</p>\r\n                            <p>\r\n                                <a href=\"#\"><i class=\"icon-user\"></i></a>\r\n                                <a href=\"#\"><i class=\"icon-heart\"></i></a>\r\n                                <Link state={post} to={`/blog/${post.id}`}><i class=\"icon-link\"></i></Link>\r\n                            </p>\r\n                        </figcaption>           \r\n                    </figure>\r\n                </div>\r\n            </li>\r\n      \r\n    )\r\n}\r\n\r\nexport default PostThumb;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst workThumb = (props) => {\r\n    const work = props.work;\r\n    return (\r\n        \r\n            <li class=\"shown\" >\r\n                <div class=\" grid-post\">\r\n                    <figure class=\"effect-layla layla\">\r\n                        <img src={`/${work.img}`} alt=\"img03\" />\r\n                        <figcaption class=\"layla\">\r\n                            <h2>{work.title}</h2>\r\n                            <p class=\"desc\">{work.desc}</p>\r\n                            <p>\r\n                                <Link state={work} to={`/blog/${work.id}`}><i class=\"icon-link\"></i></Link>\r\n                            </p>\r\n                        </figcaption>           \r\n                    </figure>\r\n                </div>\r\n            </li>\r\n      \r\n    )\r\n}\r\n\r\nexport default workThumb;","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route, withRouter } from \"react-router-dom\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"./actions/userActions\";\r\n\r\nimport PrivateRoute from \"./Components/PrivateRoute\";\r\nimport PublicRoute from \"./Components/PublicRoute\"\r\nimport routes from \"./RoutesConfig\";\r\n\r\n\r\nclass Routes extends Component {\r\n\r\n    componentWillMount() {\r\n        \r\n    }\r\n    render() {\r\n        const user = this.props.user;\r\n        let regularRoutes = routes.regular.map((route, i) => <Route key={i} {...route} />);\r\n        let privateRoutes = routes.private.map((route, i) => <PrivateRoute key={i} {...route} user={user} />);\r\n        let publicRoutes = routes.public.map((route, i) => <PublicRoute key={i} {...route} user={user} />)\r\n        // const headers = JSON.parse(localStorage.getItem('headers'));\r\n        // if (headers) {\r\n        //     console.log(headers['x-auth-token'])\r\n        // }\r\n        \r\n        // if (!headers && !headers['x-auth-token']) {\r\n        //     this.props.dispatch(logout())\r\n        // }\r\n        if (typeof window !== 'undefined') {window.scrollTo(0, 0);}\r\n        \r\n        return (\r\n            <Switch>\r\n                {publicRoutes}\r\n                {privateRoutes}\r\n                {regularRoutes}\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const { entities: {users}, reducers: {logedinUser} } = state;\r\n    const user = users[logedinUser.data];\r\n    return{\r\n        user,\r\n    }\r\n}\r\n\r\nconst connectedLoginPage = withRouter(connect(mapStateToProps)(Routes));\r\nexport { connectedLoginPage as Routes };","import React from \"react\";\r\nimport Loadable from \"react-loadable\";\r\nimport { BlogPage } from \"./containers/BlogPage\";\r\nimport SingleWork from \"./containers/SingleWork\";\r\nimport { SinglePost } from \"./containers/SinglePost\";\r\nimport AddPost from \"./containers/AddPost\";\r\nimport {About} from \"./containers/AboutPage\";\r\nimport NotFound from \"./containers/NotFound\";\r\nimport { login } from \"./actions/userActions\";\r\n\r\nconst Loading = () => <section id=\"loader-wrapper\">\r\n<div id=\"loader\"></div>\r\n<div class=\"loader-section section-left\"></div>\r\n<div class=\"loader-section section-right\"></div>\r\n</section>\r\n\r\nconst Home = Loadable({\r\n    loader: () => import(\"./containers/HomePage\"),\r\n    loading: Loading,\r\n    modules: [\"./containers/HomePage\"],\r\n    webpack: () => [require.resolveWeak(\"./containers/HomePage\")],\r\n    delay: 90000,\r\n  });\r\n\r\nconst Works = Loadable({\r\n    loader: () => import(\"./containers/WorksPage\"),\r\n    loading: Loading,\r\n    render(loaded, props) {\r\n        let WorksPage = loaded.default;\r\n        return <WorksPage {...props} />;\r\n    }\r\n});\r\nWorks.preload();\r\nconsole.log(Works);\r\nconst Login = Loadable({\r\n    loader: () => import(\"./containers/Login\"),\r\n    loading: Loading,\r\n    delay: 90000,\r\n});\r\n\r\nconst routes = {\r\n    regular: [\r\n        {\r\n            path: '/',\r\n            component: Home,\r\n            exact: true\r\n        },\r\n        {\r\n            path: '/works',\r\n            component: Works,\r\n            exact: true\r\n        },\r\n        {\r\n            path: '/blog',\r\n            component: BlogPage,\r\n            exact: true\r\n        },\r\n        {\r\n            path: '/blog/:postid',\r\n            component: SinglePost,\r\n        },\r\n        {\r\n            path: '/works/:workid',\r\n            component: SingleWork,\r\n        },\r\n        {\r\n            path: '/about',\r\n            component: About,\r\n        },\r\n        {\r\n            component: NotFound\r\n        }\r\n    ],\r\n    private: [\r\n        {\r\n            path: '/addpost',\r\n            component: AddPost\r\n        }\r\n    ],\r\n    public: [\r\n        {\r\n            path: '/login',\r\n            component: Login\r\n        }\r\n    ]\r\n}\r\n\r\nexport default routes;\r\n\r\n","export const authHeader = () => {\r\n     // return authorization header with jwt token\r\n     let headers = JSON.parse(localStorage.getItem('headers'));\r\n\r\n     if (headers['x-auth-token']) {\r\n         return JSON.stringify(headers)\r\n     } else {\r\n         return {};\r\n     }\r\n}","import { Schemas } from \"../middleware/api\";\r\nimport { userConstants, postConstants, CALL_API } from \"../constants\";\r\n\r\nconst fetchUser = (username, password) => ({\r\n    username,\r\n    [CALL_API]: {\r\n        types: [userConstants.LOGIN_REQUEST, userConstants.LOGIN_SUCCESS, userConstants.LOGIN_FAILURE],\r\n        endpoint: '/login',\r\n        schema: Schemas.USER,\r\n        method: 'POST',\r\n        bodyReq: {username,password}\r\n    }\r\n})\r\nexport const loginSuccess = (user) => ({\r\n    type: userConstants.LOGIN_SUCCESS,\r\n    response: {entities:{users:{[user.id]:user}}, result: user.id},\r\n})\r\nexport const logOut = () => {\r\n    localStorage.removeItem('user')\r\n    localStorage.removeItem('headers')\r\n    return {type: userConstants.LOGOUT}\r\n}\r\nexport const loginUser = (username, password) => (dispatch, getState) => {\r\n    const user = getState().entities.users[username]\r\n    if (user) {\r\n        return null\r\n    }\r\n    return dispatch(fetchUser(username, password))\r\n}\r\n\r\nconst fetchPosts = () => ({\r\n    [CALL_API]: {\r\n        types: [postConstants.POSTS_REQUEST,postConstants.POSTS_SUCCESS,postConstants.POSTS_FAILURE],\r\n        endpoint: '/api/post',\r\n        schema: Schemas.POST_ARRAY,\r\n        method: 'get',\r\n        bodyReq: {},\r\n    }\r\n})\r\n\r\nexport const loadPosts = () => (dispatch, getState) => {\r\n    const posts = getState().entities.posts\r\n    console.log(\"posts in action===========\", getState());\r\n    if (Object.keys(posts).length > 1) {\r\n        \r\n        return null\r\n    }\r\n    return dispatch(fetchPosts())\r\n}\r\n\r\nconst fetchPostById = (id) => ({\r\n    id,\r\n    [CALL_API]: {\r\n        types: [postConstants.POST_REQUEST, postConstants.POST_SUCCESS, postConstants.POST_FAILURE],\r\n        endpoint: `/api/post/${id}`,\r\n        schema: Schemas.POST,\r\n        method: 'get',\r\n        bodyReq: {},\r\n    }\r\n})\r\n\r\nexport const loadPostById = (id) => (dispatch, getState) => {\r\n   \r\n    const post = getState().entities.posts[id]\r\n    console.log(\"postbyid\", post)\r\n\r\n    if (post) {\r\n        return null\r\n    }\r\n    return dispatch(fetchPostById(id));\r\n}","import { userConstants } from \"../constants\";\r\nimport { authHeader } from \"./authHeader\";\r\n// import { createBrowserHistory } from \"history\";\r\nimport axios from \"axios\";\r\n\r\n// const history = createBrowserHistory();\r\nconst loginRequest = (user) => {\r\n    return {\r\n        type: userConstants.LOGIN_REQUEST,\r\n        payload: user,\r\n    }\r\n}\r\n\r\nexport const loginSuccess = (user) => {\r\n    return {\r\n        type: userConstants.LOGIN_SUCCESS,\r\n        payload: user,\r\n    }\r\n}\r\nconst loginFailure = (err) => {\r\n    return {\r\n        type: userConstants.LOGIN_FAILURE,\r\n        payload: err,\r\n    }\r\n}\r\n\r\nconst registerRequest = (user) => {\r\n    return {\r\n        type : userConstants.REGISTER_REQUEST,\r\n        payload: user,\r\n    }\r\n}\r\nconst registerFailure = (err) => {\r\n    return {\r\n        type : userConstants.REGISTER_FAILURE,\r\n        payload: err,\r\n    }\r\n}\r\nconst registerSuccess = (user) => {\r\n    return {\r\n        type : userConstants.REGISTER_SUCCESS,\r\n        payload: user,\r\n    }\r\n}\r\n\r\nconst setUserOptions = (options) => {\r\n    return {\r\n        type: userConstants.SET_USER_OPTIONS,\r\n        payload: options,\r\n    }    \r\n}\r\n\r\n\r\n\r\nexport const login = (username, password) => (dispatch) => {\r\n    const reqOptions = {\r\n        headers: { 'Content-Type': 'application/json' },\r\n        data: {\r\n            username: username,\r\n            password: password,\r\n        }\r\n    }\r\n    \r\n    dispatch(loginRequest({username}))\r\n    axios.post(\"/login\",{username, password})\r\n        .then((response) => {\r\n            console.log(response);\r\n            localStorage.setItem('headers', JSON.stringify(response.headers))\r\n            localStorage.setItem('user', JSON.stringify(response.data))\r\n            dispatch(loginSuccess(response.data))\r\n            // history.push('/');\r\n        })\r\n        .catch((err) => {\r\n            dispatch(loginFailure(err))\r\n        })\r\n}\r\n\r\nexport const logout = () =>  {\r\n    localStorage.removeItem('user')\r\n    localStorage.removeItem('headers')\r\n    return {type: userConstants.LOGOUT}\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Header } from \"./Components/header\";\r\nimport Footer from \"./Components/footer\";\r\nimport { Router, Route, withRouter } from \"react-router-dom\";\r\nimport ActivePage from \"./Components/ActivePage\";\r\nimport { Routes } from \"./Routes\";\r\nimport { loginSuccess, logOut } from \"./actions\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { tokenVerification } from \"./Components/authVerify\";\r\n\r\n\r\nconst PathName = withRouter(({ location, match }) => {\r\n  return location.pathname.substring(1);\r\n});\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      title: \"react\",\r\n      activePage: PathName,\r\n      user: null\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (typeof localStorage !== 'undefined') {\r\n    const headers = JSON.parse(localStorage.getItem(\"headers\"));\r\n    const { dispatch } = this.props;\r\n    if (headers && headers[\"x-auth-token\"]) {\r\n      const token = headers[\"x-auth-token\"];\r\n      console.log(\"headers exist\", token);\r\n      jwt.verify(token, \"my-secret\", function(err, decoded) {\r\n        if (decoded) {\r\n          const user = JSON.parse(localStorage.getItem(\"user\"));\r\n          dispatch(loginSuccess(user));\r\n          console.log(decoded);\r\n        } else {\r\n          console.log(\"not decoded\", err);\r\n          if (err.name === \"TokenExpiredError\") {\r\n            dispatch(logOut());\r\n            console.log(\"TokenExpiredError\");\r\n          }\r\n        }\r\n      });\r\n    }}\r\n    console.log(\"will mount dd\");\r\n  }\r\n\r\n  handleUserChange(user) {\r\n    this.setState({ user: user });\r\n    console.log(this.state.user);\r\n  }\r\n\r\n  handlePageChange(page) {\r\n    this.setState({ activePage: page });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ActivePage>\r\n        <Header\r\n          changeUserState={this.handleUserChange.bind(this)}\r\n          // getActivePage={this.handlePageChange.bind(this)}\r\n          // user= {this.state.user}\r\n          title={this.state.title}\r\n        />\r\n        <main>\r\n          <Routes\r\n            // user= {this.state.user}\r\n            changeUserState={this.handleUserChange.bind(this)}\r\n          />\r\n        </main>\r\n        <Footer />\r\n        \r\n      </ActivePage>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  const { entities: {users}, reducers: {logedinUser} } = state;\r\n  const user = users[logedinUser.data]\r\n  return {\r\n    user\r\n  };\r\n};\r\nconst connectedApp = withRouter(connect(mapStateToProps)(App));\r\n\r\nexport { connectedApp as App };\r\n","export const userConstants = {\r\n    LOGIN_REQUEST: 'USER_LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'USER_LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'USER_LOGIN_FAILURE',\r\n\r\n    LOGOUT: 'USERS_LOGOUT',\r\n\r\n    REGISTER_REQUEST: 'USER_REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'USER_REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'USER_REGISTER_FAILURE',\r\n\r\n    SET_USER_OPTIONS: 'SET_USER_OPTIONS',\r\n}\r\n\r\nexport const postConstants = {\r\n    POSTS_REQUEST: 'FETCH_POSTS_REQUEST',\r\n    POSTS_SUCCESS: 'FETCH_POSTS_SUCCESS',\r\n    POSTS_FAILURE: 'FETCH_POSTS_FAILURE',\r\n\r\n    POST_REQUEST: 'POST_REQUEST',\r\n    POST_SUCCESS: 'POST_SUCCESS',\r\n    POST_FAILURE: 'POST_FAILURE',\r\n\r\n    ADD_POST: 'ADD_POST',\r\n\r\n    UPDATE_POST: 'UPDATE_POST',\r\n    DELETE_POST: 'DELETE_POST',\r\n}\r\n\r\nexport const CALL_API = 'Call API';\r\nexport const RESET_ERROR_MESSAGE = 'RESET_ERROR_MESSAGE';","import React, { Component } from \"react\";\r\n\r\nconst style = {\r\n    width: '100%',\r\n    height: '157px',\r\n    position: 'fixed',\r\n    top: '0',\r\n    'z-index': '10',\r\n}\r\n\r\n\r\nexport const About = (props) => {\r\n    return (\r\n        <div>\r\n            <img src='/about-uss.jpg' class='top-img' style={style} />\r\n            <div class=\"jumbotron text-center \" style={{marginTop: 9+'em'}}>\r\n                <h1>This is us we can solve Everything</h1>\r\n                <p>Resize this responsive page to see the effect!</p> \r\n            </div>\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-4\">\r\n                    <h3>Column 1</h3>\r\n                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>\r\n                    <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>\r\n                    </div>\r\n                    <div class=\"col-sm-4\">\r\n                    <h3>Column 2</h3>\r\n                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>\r\n                    <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>\r\n                    </div>\r\n                    <div class=\"col-sm-4\">\r\n                    <h3>Column 3</h3>        \r\n                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit...</p>\r\n                    <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris...</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { Component } from \"react\";\r\n\r\nclass AddPost extends Component {\r\n\r\n    \r\n    \r\n    render() {\r\n        \r\n        return (\r\n            <div>\r\n                this is addpost page\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddPost;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import { fetchAllPosts } from \"../actions/postActions\";\r\nimport { loadPosts } from \"../actions\";\r\nimport PostThumb from \"../Components/postthumbnail\";\r\nimport \"./blog.css\"\r\nimport List from \"../Components/List\";\r\n\r\nconst loadData = props => {\r\n    props.loadPosts()\r\n}\r\n\r\nclass BlogPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            scrollanim:false,\r\n        }\r\n    }\r\n    static fetchData = (props) => {\r\n        return loadPosts()\r\n    }\r\n\r\n    componentDidMount() {\r\n        if ( !(typeof window === 'undefined')) {\r\n            window.addEventListener('scroll', this.handleScroll.bind(this))\r\n        }\r\n        console.log(this.state.scrollanim);\r\n        console.log('did mount')\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n        loadData(this.props)\r\n        if ( !(typeof window === \"undefined\")) {\r\n            window.removeEventListener('scroll', this.handleScroll.bind(this))\r\n        }\r\n        console.log(\"will mount\");\r\n    }\r\n    componentWillReceiveProps() {\r\n        console.log(\"will recevie props\")\r\n    }\r\n\r\n    handleScroll (event) {\r\n        if (window.scrollY > 1 && this.state.scrollanim === false) {\r\n            this.setState({scrollanim: true})\r\n            \r\n        } else if (window.scrollY <= 1 && this.state.scrollanim === true) {\r\n            this.setState({scrollanim: false})\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if ( !(typeof window === \"undefined\")) {\r\n            window.removeEventListener('scroll', this.handleScroll.bind(this))\r\n        }\r\n    }\r\n\r\n    renderPost(post) {\r\n        return <PostThumb post={post} key={post.id}></PostThumb>\r\n    }\r\n\r\n    render() {\r\n        const posts = Object.values(this.props.posts);\r\n        const scrolling = this.state.scrollanim ? 'modify' : '';\r\n        console.log(posts);\r\n        return (\r\n            <div id=\"blog\" class={`blog intro-effect-jam3  ${scrolling}`}>\r\n            <section id=\"header-block\" class=\"header \">\r\n                <div class=\" wedget-post\">\r\n                    <div class=\"bg-img\">\r\n                        <img src=\"/blog.jpg\" alt=\"Background Image\" />\r\n                    </div>\r\n                    <div class=\"title\">\r\n                        <h1>Posts</h1>\r\n                    </div>\r\n                    \r\n                </div> \r\n            </section>\r\n            <section id=\"posts-block\" class=\"posts content  blog-thumb\">\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <input type=\"text\" name=\"\"  />\r\n                        <ul id=\"grid\" class=\"grid effect-5\" >\r\n                        {/* {posts && posts.map(post => <PostThumb key={post.id} post={post} />)} */}\r\n                        <List renderItem={this.renderPost}\r\n                            items={posts}\r\n                            loadingText={'Loading Posts'}\r\n                            />\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    const {entities: { users, posts }} = state;\r\n    return {\r\n        posts,\r\n        users\r\n    };\r\n}\r\nconst connectedBlog = withRouter(connect(mapStateToProps, {loadPosts})(BlogPage));\r\nexport  {connectedBlog as  BlogPage};","import React from 'react'\nimport { createDevTools } from 'redux-devtools'\nimport LogMonitor from 'redux-devtools-log-monitor'\nimport DockMonitor from 'redux-devtools-dock-monitor'\n\nexport default createDevTools(\n  <DockMonitor toggleVisibilityKey=\"ctrl-h\"\n               changePositionKey=\"ctrl-w\">\n    <LogMonitor />\n  </DockMonitor>\n)\n","import React, { Component } from \"react\";\r\nimport Swiper from \"react-id-swiper\";\r\nimport '../swiper.css';\r\nimport './home.css';\r\n\r\n\r\nclass HomePage extends Component {\r\n\r\n    \r\n    \r\n    render() {\r\n        const params = {\r\n            pagination: {\r\n              el: '.swiper-pagination',\r\n              type: 'bullets',\r\n              clickable: true\r\n            },\r\n            navigation: {\r\n              nextEl: '.swiper-button-next',\r\n              prevEl: '.swiper-button-prev'\r\n            },\r\n            spaceBetween: 10,\r\n            loop: true,\r\n            // autoplay: {\r\n            //     delay: 3000,\r\n            //     disableOnInteraction: false\r\n            // },\r\n            // effect: 'coverflow',\r\n          }\r\n\r\n        return (\r\n            <div>\r\n                <section class=\"slider-block\">\r\n                    <div class=\"slider\">\r\n                        <Swiper {...params}>\r\n                        <div class=\"Slide1\"></div>\r\n                        <div class=\"Slide2\"></div>\r\n                        <div class=\"Slide3\"></div>\r\n                        <div class=\"Slide4\"></div>\r\n                        <div class=\"Slide5\"></div>\r\n                        </Swiper>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Redirect } from \"react-router-dom\";\r\n// import { login, logout } from \"../actions/userActions\";\r\nimport { loginUser } from \"../actions\";\r\nimport \"./login.css\";\r\n\r\nconst loadData = (props) => {\r\n  console.log(props)\r\n  const {username, password} = props;\r\n  props.loginUser(username, password)\r\n}\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // reset login status\r\n    // this.props.dispatch(logout());\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      submitted: false\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.setState({ submitted: true });\r\n    const { username, password } = this.state;\r\n    if (username && password) {\r\n      loadData({username, password, ...this.props} );\r\n      \r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { fetching, fetched } = this.props.logedinUser;\r\n    const { username, password, submitted } = this.state;\r\n      if (fetched) {\r\n        return <Redirect to='/'></Redirect>\r\n      }\r\n\r\n    return (\r\n      <div>\r\n        <div class=\"login-wrapper\">\r\n          <div class=\"logo ir\" />\r\n          <span class=\"title\">Login</span>\r\n          <form name=\"form\" onSubmit={this.handleSubmit}>\r\n            <fieldset>\r\n              <div class=\"inputrow\">\r\n                <i class=\"fa icon-user fa-fw\" />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  id=\"user\"\r\n                  placeholder=\"Username\"\r\n                  onChange={this.handleChange}\r\n                  value={username}\r\n                  autoFocus\r\n                  required\r\n                />\r\n              </div>\r\n              <div class=\"inputrow\">\r\n                <i class=\"fa icon-key fa-fw\" />\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  data-typetoggle=\"#show\"\r\n                  onChange={this.handleChange}\r\n                  value={password}\r\n                  placeholder=\"Password\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div class=\"remember\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"remember_login\"\r\n                  value=\"1\"\r\n                  id=\"remember_login\"\r\n                />\r\n                <label for=\"remember_login\" class=\"radio\">\r\n                  Remember me\r\n                </label>\r\n              </div>\r\n              <div class=\"button-center\">\r\n                <button class=\"btn-log\" type=\"submit\" id=\"submit\">\r\n                  Login\r\n                </button>\r\n                {fetching && (\r\n                  <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n                )}\r\n              </div>\r\n            </fieldset>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  const { entities: {users}, reducers:{logedinUser} } = state;\r\n  \r\n  \r\n  return {\r\n    users,\r\n    logedinUser,\r\n  };\r\n};\r\n\r\nconst connectedLoginPage = withRouter(connect(mapStateToProps, {loginUser})(Login));\r\nexport default connectedLoginPage;\r\n","import React from 'react';\n\nexport default function NotFound() {\n  return (\n    <div className=\"container\">\n      <h1>Doh! 404!</h1>\n      <p>\n        These are <em>not</em> the droids you are looking for!\n      </p>\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { CircleLoader } from \"react-spinners\";\r\n// import { fetchSinglePost } from \"../actions/postActions\";\r\nimport { loadPostById } from \"../actions\";\r\nimport './singlePost.css';\r\n\r\nconst loadData = (props) => {\r\n    const id = props.postId;\r\n    props.loadPostById(id);\r\n}\r\n\r\nclass SinglePost extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            scrollanim: false\r\n        }\r\n    }\r\n\r\n    static fetchData = (props) => {\r\n        const id = props.postid;\r\n        return loadPostById(id);\r\n    }\r\n\r\n    componentWillMount() {\r\n        // const { postid } = this.props.match.params;\r\n        // const po = this.props.location.state;\r\n        // console.log(\"dfdgkdfgd\",postid,po);\r\n        // const { dispatch } = this.props;\r\n        // dispatch(fetchSinglePost(postid));\r\n        loadData(this.props)\r\n        if (!(typeof window === 'undefined')) {\r\n            window.removeEventListener('scroll', this.handleScroll.bind(this))\r\n        }\r\n        console.log(\"single post will mount\")\r\n        // console.log(\"props\", this.props)\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (!(typeof window === 'undefined')) {\r\n            window.addEventListener('scroll', this.handleScroll.bind(this))\r\n        }\r\n    }\r\n\r\n    handleScroll (event) {\r\n        if (window.scrollY > 1 && this.state.scrollanim === false) {\r\n            this.setState({scrollanim: true})\r\n            \r\n        } else if (window.scrollY <= 1 && this.state.scrollanim === true) {\r\n            this.setState({scrollanim: false})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { postid } = this.props.match.params;\r\n        const scrolling = this.state.scrollanim ? 'modify' : '';\r\n        const post = this.props.post;\r\n        // const {fetching, fetched} = this.props.postResult;\r\n        console.log(\"single post\",post);\r\n        if (post === undefined) {\r\n            return <CircleLoader color={'#123abc'} loading={true}/>\r\n        }\r\n        return (\r\n            <div id=\"post1\" class={` intro-effect-fadeout ${scrolling}`}>\r\n                <header class=\"header\">\r\n                    <div class=\"bg-img\">\r\n                        <img src={`/${post.img}`} alt=\"Background Image\" />\r\n                    </div>\r\n                    <div class=\"title\">\r\n                        <h1>{post.title} </h1>\r\n                        <p class=\"subline\">{post.desc} .</p>\r\n                        <p>by <strong>1</strong>  Posted on <strong>{post.date}</strong></p>\r\n                        </div>\r\n                        <button class=\"trigger\"><span></span></button>\r\n                </header>\r\n                <article class=\"content\">\r\n                    <div class=\"container\">\r\n                        <div class=\"row\">\r\n                            <p>{post.content}</p>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const postId = ownProps.match.params.postid;\r\n    console.log(postId)\r\n    const { \r\n        entities: { posts, users, comments },\r\n        reducers: { postById } \r\n    } = state;\r\n    const post =  posts[postId]\r\n    const postResult = postById[postId]\r\n    // const commentsByPost =  comments.map(comment => comment.postId === postId)\r\n    return {\r\n        postId,\r\n        post,\r\n        postResult,\r\n        // commentsByPost,\r\n    }\r\n}\r\nconst connectedSinglePost = connect(mapStateToProps, {loadPostById})(SinglePost);\r\n\r\nexport  {connectedSinglePost as SinglePost};","import React, { Component } from \"react\";\r\n\r\nclass SingleWork extends Component {\r\n\r\n    \r\n    \r\n    render() {\r\n        const workId = this.props.match.params.workid;\r\n        return (\r\n            <div>\r\n               this is {workId}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SingleWork;","import React, { Component } from \"react\";\r\nimport \"./works.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { loadPosts } from \"../actions\";\r\nimport List from \"../Components/List\";\r\nimport WorkThumb from \"../Components/workthumbnail\";\r\n\r\nconst loadData = props => {\r\n    props.loadPosts()\r\n}\r\n\r\nclass WorksPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            scrollanim:false,\r\n        }\r\n    }\r\n    static fetchData = (props) => {\r\n        return loadPosts()\r\n    }\r\n\r\n    componentDidMount() {\r\n        if ( !(typeof window === 'undefined')) {\r\n            window.addEventListener('scroll', this.handleScroll.bind(this))\r\n        }\r\n        console.log(this.state.scrollanim);\r\n        console.log('did mount')\r\n    }\r\n\r\n    componentWillMount() {\r\n\r\n        loadData(this.props)\r\n        if ( !(typeof window === \"undefined\")) {\r\n            window.removeEventListener('scroll', this.handleScroll.bind(this))\r\n        }\r\n        console.log(\"will mount\");\r\n    }\r\n    componentWillReceiveProps() {\r\n        console.log(\"will recevie props\")\r\n    }\r\n\r\n    handleScroll (event) {\r\n        if (window.scrollY > 1 && this.state.scrollanim === false) {\r\n            this.setState({scrollanim: true})\r\n        } else if (window.scrollY <= 1 && this.state.scrollanim === true) {\r\n            this.setState({scrollanim: false})\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if ( !(typeof window === \"undefined\")) {\r\n            window.removeEventListener('scroll', this.handleScroll.bind(this))\r\n        }\r\n    }\r\n\r\n    renderPost(work) {\r\n        return <WorkThumb work={work} key={work.id}></WorkThumb>\r\n    }\r\n\r\n    render() {\r\n        const works = Object.values(this.props.posts);\r\n        const scrolling = this.state.scrollanim ? 'modify' : '';\r\n\r\n        return (\r\n            <div id=\"works\" class={`blog intro-effect-sliced  ${scrolling}`}>\r\n            <section id=\"header-block\" class=\"header \">\r\n                    <div class=\"bg-img\">\r\n                        <img src=\"/works.jpg\" alt=\"Background Image\" />\r\n                    </div>\r\n                    <div class=\"title\">\r\n                        <h1>Works</h1>\r\n                    </div>\r\n                    <p class=\"subline\">Inspiration for Article Intro Effects</p>\r\n                    <div class=\"bg-img\">\r\n                        <img src=\"/works.jpg\" alt=\"Background Image\" />\r\n                    </div>\r\n            </section>\r\n            <section id=\"posts-block\" class=\"works content  blog-thumb\">\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <ul id=\"grid\" class=\"grid effect-5\" >\r\n                        {/* {posts && posts.map(post => <PostThumb key={post.id} post={post} />)} */}\r\n                        <List \r\n                            renderItem={this.renderPost}\r\n                            items={works}\r\n                            loadingText={'Loading Posts'}\r\n                            />\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    const {entities: { users, posts }} = state;\r\n    return {\r\n        posts,\r\n        users\r\n    };\r\n}\r\nconst connectedBlog = withRouter(connect(mapStateToProps, {loadPosts})(WorksPage));\r\nexport default connectedBlog;","import { normalize, schema } from \"normalizr\";\r\nimport { camelizeKeys } from \"humps\";\r\nimport axios from \"axios\";\r\nimport { CALL_API } from \"../constants\";\r\n\r\n\r\nconst API_ROOT = \"http://localhost:4000\";\r\n\r\nconst callApi = async (endpoint, schema, method, bodyReq) => {\r\n    const fullUrl = (endpoint.indexOf(API_ROOT) === -1) ? API_ROOT + endpoint : endpoint;\r\n    console.log(endpoint);\r\n    return await axios({\r\n            method: method,\r\n            url: endpoint,\r\n            data: bodyReq,\r\n            proxy: { host: '127.0.0.1', port: 4000 }\r\n        })\r\n        .then(response => {\r\n            if (response.status !== 200) {\r\n                return Promise.reject(response)\r\n            }\r\n            if (endpoint === '/login') {\r\n                localStorage.setItem('headers', JSON.stringify(response.headers))\r\n                localStorage.setItem('user', JSON.stringify(response.data))\r\n            }\r\n            const camelizedJson = camelizeKeys(response.data);\r\n            return Object.assign({}, normalize(camelizedJson, schema))\r\n        })\r\n        .catch(err => {\r\n            console.log(\"error in middleware\", err)\r\n        })\r\n}\r\n\r\nconst userSchema = new schema.Entity('users', {\r\n    idAttribute: user => user.username.toLowerCase()\r\n  })\r\n\r\nconst commentSchema = new schema.Entity('comments', {\r\n    commenter: userSchema\r\n});\r\n\r\n\r\nconst postSchema = new schema.Entity('posts', {\r\n    author: userSchema,\r\n    comments: [commentSchema]\r\n    \r\n})\r\n\r\nexport const Schemas = {\r\n    USER: userSchema,\r\n    USER_ARRAY: [userSchema],\r\n    POST: postSchema,\r\n    POST_ARRAY: [postSchema]\r\n}\r\n\r\nexport default store => next => action => {\r\n    const callAPI = action[CALL_API];\r\n    if (callAPI) {\r\n        let {endpoint} = callAPI;\r\n        const { types, schema, method, bodyReq } = callAPI\r\n\r\n        if (typeof endpoint === 'function') {\r\n            endpoint = endpoint(store.getState())\r\n        }\r\n        \r\n        if (typeof endpoint !== 'string') {\r\n            throw new Error('Specify a string endpoint URL.')\r\n        }\r\n        if (!schema) {\r\n            throw new Error('Specify one of the exported Schemas.')\r\n        }\r\n        if (!Array.isArray(types) || types.length !== 3) {\r\n            throw new Error('Expected an array of three action types.')\r\n        }\r\n        if (!types.every(type => typeof type === 'string')) {\r\n            throw new Error('Expected action types to be strings.')\r\n        }\r\n\r\n        const actionWith = data => {\r\n            const finalAction = Object.assign({}, action, data)\r\n            delete finalAction[CALL_API]\r\n            return finalAction\r\n        }\r\n\r\n        const [ requestType, successType, failureType ] = types;\r\n        next(actionWith({ type: requestType }))\r\n\r\n        return callApi(endpoint, schema, method, bodyReq)\r\n                        .then(response => next(actionWith({\r\n                                type: successType,\r\n                                response\r\n                            }))\r\n                        )\r\n                        .catch(error => next(actionWith({\r\n                            type: failureType,\r\n                            error: error.message\r\n                        })))\r\n    }else {\r\n        next(action)\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\nimport { RESET_ERROR_MESSAGE, userConstants, postConstants }  from \"../constants\";\r\nimport merge from \"lodash/merge\";\r\n\r\n\r\nimport { user } from \"./userReducer\";\r\nimport { posts } from \"./postReduser\";\r\n\r\nconst entities = (state = {users: {}, posts: {}, comments: {}, works: {}}, action) => {\r\n    if (action.response && action.response.entities) {\r\n        return merge({}, state, action.response.entities)\r\n    }\r\n    return state\r\n}\r\n\r\nconst messages = (state = null, action) => {\r\n    const { type, error } = action;\r\n    if (type === RESET_ERROR_MESSAGE){\r\n        return null\r\n    }else if (error) {\r\n        return error\r\n    }\r\n    return state\r\n}\r\n\r\nconst reducers = combineReducers({\r\n    logedinUser: user,\r\n    postById: posts,\r\n})\r\n\r\nconst rootReducer = combineReducers({\r\n    entities,\r\n    reducers,\r\n    messages,\r\n})\r\nexport default rootReducer;","import { postConstants } from \"../constants\";\r\nconst initialState = {\r\n    fetching: false,\r\n    fetched: false,\r\n    data: [],\r\n    error: null,\r\n}\r\n\r\nexport const posts = (state=initialState, action) => {\r\n    switch(action.type) {\r\n        case postConstants.POST_REQUEST: \r\n            return {\r\n                ...state, \r\n                fetching:true\r\n            }\r\n        case postConstants.POST_SUCCESS: \r\n            return {\r\n                ...state, \r\n                fetching:false, \r\n                fetched: true, \r\n                data: action.response.result\r\n            }\r\n        case postConstants.POST_FAILURE: \r\n            return {\r\n                ...state, \r\n                fetching:false, \r\n                error: action.response\r\n            }\r\n        case postConstants.ADD_POST: \r\n            return {\r\n                ...state, \r\n                data: [...state.posts, action.payload]\r\n            }\r\n        case postConstants.UPDATE_POST: {\r\n            const { id, title, desc, content, cotagory, img, date, userId} = action.payload\r\n            const newPosts = [...state.data]\r\n            const postToUpdate = newPosts.findIndex(post => post.id === id)\r\n            newPosts[postToUpdate] = action.payload;\r\n            return {\r\n                ...state, \r\n                data: newPosts\r\n            }\r\n        }\r\n        case postConstants.DELETE_POST: \r\n            return {\r\n                ...state, \r\n                data: state.posts.filter(post => post.id !== action.payload)\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n};","import { userConstants } from \"../constants\";\r\n\r\nconst initialState = {\r\n    fetching: false,\r\n    fetched: false,\r\n    data: null,\r\n    error: null\r\n}\r\n\r\nexport const user = (state=initialState, action) => {\r\n    switch(action.type) {\r\n        case userConstants.LOGIN_REQUEST: \r\n            return {\r\n                ...state, \r\n                fetching:true\r\n            }\r\n        case userConstants.LOGIN_SUCCESS: \r\n            return {\r\n                ...state, \r\n                fetching:false, \r\n                fetched: true, \r\n                data: action.response.result\r\n            }\r\n        case userConstants.LOGIN_FAILURE: \r\n            return {\r\n                ...state,\r\n                fetching:false,\r\n                error: action.response\r\n            }\r\n        case userConstants.LOGOUT: \r\n            return initialState\r\n    \r\n        case \"ADD_USER\": \r\n            return {\r\n                ...state, \r\n                data:  action.payload\r\n            }\r\n        case \"SET_USER_OPTIONS\": \r\n            return {\r\n                ...state.data, \r\n                options: action.payload\r\n            }\r\n        default: \r\n            return state\r\n    }\r\n\r\n};","import { applyMiddleware, createStore, compose } from \"redux\";\r\n\r\nimport logger, { createLogger } from \"redux-logger\";\r\nimport thunk from \"redux-thunk\";\r\nimport api from \"./middleware/api\";\r\nimport rootReducer from \"./reducers\";\r\nimport DevTools from \"./containers/DevTools\";\r\n\r\nconst middleware = applyMiddleware(thunk, api,createLogger());\r\n\r\nconst configureStore = preloadedState => {\r\n    const store = createStore(rootReducer,preloadedState,compose(middleware,DevTools.instrument()));\r\n    return store;\r\n};\r\n\r\nexport {configureStore}; \r\n","module.exports = require(\"axios\");","module.exports = require(\"babel-polyfill\");","module.exports = require(\"body-parser\");","module.exports = require(\"bourne\");","module.exports = require(\"cors\");","module.exports = require(\"crypto\");","module.exports = require(\"express\");","module.exports = require(\"express-jwt\");","module.exports = require(\"express-session\");","module.exports = require(\"humps\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"lodash/merge\");","module.exports = require(\"normalizr\");","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-id-swiper\");","module.exports = require(\"react-loadable\");","module.exports = require(\"react-loadable/webpack\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-spinners\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools\");","module.exports = require(\"redux-devtools-dock-monitor\");","module.exports = require(\"redux-devtools-log-monitor\");","module.exports = require(\"redux-logger\");","module.exports = require(\"redux-thunk\");"],"sourceRoot":""}